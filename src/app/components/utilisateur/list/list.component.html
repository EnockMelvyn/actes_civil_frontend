<div class="card">
    <div class="card-header">
        <h3> Liste des utilisateurs</h3>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="btn-group float-right col-5">
                <button class="btn btn-primary float-right" (click)="goToFormUser()" >Nouvel utilisateur</button>
                <button class="btn btn-primary float-right" (click)="goToFormRoleUser()" >Attribuer r√¥le</button>
            </div>
            
        </div>
        <br/>
        <table mat-table [dataSource]="dataSource" class="table">
            <ng-container matColumnDef="username">
                <th mat-header-cell *matHeaderCellDef> login </th>
                <td mat-cell *matCellDef="let user"> {{user.username}} </td>
            </ng-container>
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Nom d'utilisateur </th>
                <td mat-cell *matCellDef="let user"> {{user.name}} </td>
            </ng-container>
            <ng-container matColumnDef="roles">
                <th mat-header-cell *matHeaderCellDef> Roles </th>
                <td mat-cell *matCellDef="let user"> 
                    <mat-chip-list #chipList aria-label="Liste des roles">
                        <mat-chip color="primary" *ngFor="let role of user.roles">
                            {{ role.name }}
                            <button matChipRemove (click)="removeRoleToUser(user.username, role.name)">
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>

                    </mat-chip-list>{{user.numeroExtrait}} </td>
                    
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="colonnes"></tr>
            <tr mat-row *matRowDef="let row; columns: colonnes;"></tr>
        </table>
    </div>
</div>